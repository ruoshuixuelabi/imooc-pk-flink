














需求一：按照操作系统(iOS、Android..)分析新老用户
	维度组合在工作中的使用

	关键字：
		操作系统   os
		新老      isNewUser
			日志中就有新老用户的字段
			是没有新老用户的字段

	扩展 ==> 分析新老用户



需求二：按照省份维度统计新老用户
	关键字：
		省份：ip ==> 省份、城市、运行商、经纬度....
			解决方案：
				1) 请求商业的(免费) ==> HTTP请求
					百度地图
					高德地图

								 ==> IP库 IpUtils
				2) 开源版
					github.com  ipparse	

				3) 第一步：从缓存中找， 第二步：请求	
		新老用户



工作中：很大程度都是各种维度的统计分析
	离线数仓   实时数仓

	可能有比较多的维度
		操作系统 + 新老用户
		新老用户
		省份    + 新老用户
		操作系统 + 省份 + 新老用户
		运营商  + 省份 + 新老用户
		运营商   + 新老用户

		==> keyBy(....).sum(index)

	一定会遇到的统计问题
		每N(小时/分钟)统计一次
			每10分钟统计一次
		从xxx ==> xxx时间段内的各种维度(.....)统计








需求：
	前面的需求：我们是没有关注时间，一次性处理完的
	时间语义
	Window：类型 
	WM： EventTime

	统计五分钟内的不同event(加购物车、浏览...)类型、类别、商品的TopN访问量

	event类型  {"catagory":"大数据实战","productName":"实战Spark3实时处理掌握两套企业级处理方案"}

	browse 大数据实战 实战Spark3实时处理掌握两套企业级处理方案 300
	browse 大数据实战 实战Spark3实时处理掌握两套企业级处理方案 200
	browse 大数据实战 实战Spark3实时处理掌握两套企业级处理方案 100

	该加wm + window  + keyBy ...  

	五分钟内：
		Window？？？？ 用什么类型窗口
			滑动窗口：窗口大小(5m)、滑动步长(1m)

		EventTime + WM ==> 抽取出你的时间字段(日志里面的一条数据)
		大屏：








